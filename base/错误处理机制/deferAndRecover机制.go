package main
import ("fmt")


/* 
	What?
		defer è¯­å¥ä¼šå°†å‡½æ•°æŠ¼å…¥åˆ°ä¸€ä¸ªæ ˆä¸­ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå†ä»æ ˆä¸­å–å‡ºæ‰§è¡Œ, å¯ä»¥åˆ©ç”¨æ­¤æœºåˆ¶æ¥è¿›è¡Œé”™è¯¯å¤„ç†
	
	How?
		defer + åŒ¿åå‡½æ•°æ•æ‰é”™è¯¯
*/

func main() {
	test()
	fmt.Println("æ­£å¸¸è¿è¡Œåˆ°æ­¤å¤„, ä¸ä¼šè¢«é”™è¯¯æ‰€æ‰“æ–­")
}


func test() {
	// ğŸŒŸ è°ƒç”¨åŒ¿åå‡½æ•°æ¥ä¸“é—¨æ•è·é”™è¯¯
	defer func() { 
		err := recover() // // è°ƒç”¨ recover() å‡½æ•°å¯ä»¥æ•è·åˆ° panic å¼‚å¸¸
		if err != nil { // // å¦‚æœä¸ç­‰äºç©º, åˆ™è¡¨ç¤ºæ•æ‰åˆ°é”™è¯¯
			fmt.Println("å·²ç»æ•è·é”™è¯¯, é”™è¯¯ä¸º: ", err)
		}
	}()
	num1 := 10
	num2 := 0 
	result := num1 / num2 // é™¤æ•°ä¸èƒ½ä¸º 0 , é€»è¾‘ä¸Šä¼šæŠ¥é”™
	fmt.Println(result)
}